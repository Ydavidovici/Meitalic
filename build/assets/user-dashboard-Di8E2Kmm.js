import{m as o}from"./module.esm-Bu3NRNwv.js";/* empty css              */window.Alpine=o;o.data("userDashboard",()=>({profileForm:{name:"",email:""},isReviewModalOpen:!1,modalTitle:"",modalAction:"",modalData:{},isOrderModalOpen:!1,selectedOrder:null,init(){window.profileData&&(this.profileForm={...window.profileData})},openProfileModal(){this.profileForm={...window.profileData},window.dispatchEvent(new CustomEvent("open-modal",{detail:"profile-edit"}))},openReviewModal({orderId:r,itemId:e,productId:a,rating:t=1,body:i=""}){this.modalTitle=e?`Review Item #${e} (Order #${r})`:`Review Order #${r}`,this.modalAction="/dashboard/reviews",this.modalData={orderId:r,itemId:e,productId:a,rating:t,body:i},this.isReviewModalOpen=!0},closeReviewModal(){this.isReviewModalOpen=!1},async openOrderModal(r){try{let e=await fetch(`/order/${r}`,{headers:{Accept:"application/json"}});if(!e.ok)throw new Error("Fetch failed");this.selectedOrder=await e.json(),this.isOrderModalOpen=!0}catch(e){console.error(e),alert("Unable to load order details")}},closeOrderModal(){this.isOrderModalOpen=!1},async cancelOrder(r){if(!confirm("Are you sure you want to cancel this order?"))return;(await fetch(`/order/${r}/cancel`,{method:"PATCH",headers:{"X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]').content}})).ok?location.reload():alert("Cancel failed")},async returnOrder(r){if(!confirm("Request a return for this order?"))return;(await fetch(`/order/${r}/return`,{method:"POST",headers:{"X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]').content}})).ok?location.reload():alert("Return request failed")}}));o.start();
